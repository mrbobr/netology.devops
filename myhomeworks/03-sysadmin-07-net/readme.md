## Домашнее задание к занятию "3.7. Компьютерные сети, лекция 2"

1. _Проверьте список доступных сетевых интерфейсов на вашем компьютере. Какие команды есть для этого в Linux и в Windows?_  
> Для linux: `ip link` для полной информации или для краткого вывода `ip -c -br link`  
> Для windows в GUI: "Панель управления" --> "Центр управления сетями и внешним доступом" --> "Изменение параметров адаптера"  
> В командной строке windows: `ipconfig` или для более полной информации `ipconfig /all`  
2. _Какой протокол используется для распознавания соседа по сетевому интерфейсу? Какой пакет и команды есть в Linux для этого?_
> Это протокол LLDP. Для использования возможностей протокола в linux необходима установка пакета `lldpd`.  
> Для просмотра подключений используется команда `lldpctl`. Перед использованием нужно добавить демон lldpd в автозагрузку и запустить его.
3. _Какая технология используется для разделения L2 коммутатора на несколько виртуальных сетей? Какой пакет и команды есть в Linux для этого? Приведите пример конфига._  
> Технология виртуального разделения портов коммутатора на несколько виртуальных коммутаторов VLAN.  
> Для установки в linux используется пакет `vlan`, а для манипуляций с конфигурацией - команда `vconfig`.  
> При использовании `vconfig` на данный момент приводится предупреждение: _vconfig is deprecated and might be removed in the future, please migrate to ip(route2) as soon as possible!_  
> Так что можно начать использовать команду `ip` из пакета `iproute2` :)  
> Пример создания VLAN с id=777 на интерфейсе eth0: `vconfig add eth0 777`  
> Назначение созданному VLAN IP,маски и поднятие интерфейса: `ifconfig eth0.777 192.168.8.1 netmask 255.255.255.0 up`  
> Для автоматического поднятия при загрузке ОС необходимо прописать настройки VLAN в файл конфигурации.  
> Например, для debian/ubuntu в файл `nano /etc/network/interfaces`  
> ```
> auto eth0.777
> iface eth0.777 inet static
>        address 192.168.8.1
>        netmask 255.255.255.0
>        vlan_raw_device eth0
> ```
4. _Какие типы агрегации интерфейсов есть в Linux? Какие опции есть для балансировки нагрузки? Приведите пример конфига._  
> Агрегация сетевых интерфейсов (LAG) бывает статической и динамической. Во втором случае используется протокол LACP.  
> Для bonding существуют следующие опции балансировки нагрузки (mode):
> ```
> balance-rr (0)
> active-backup (1)
> balance-xor (2)
> broadcast (3)
> 802.3ad (4)
> balance-tlb (5)
> balance-alb (6)
> ```
> Пример конфигурационного файла для автоматической загрузки логического интерфейса bond0:
> ```
> auto bond0
> iface bond0 inet static
>    address 192.168.1.100
>    netmask 255.255.255.0
>    gateway 192.168.1.1
>    slaves eth0 eth1
>    mtu 9000        
>    bond-mode 0         
>    bond-miimon 100
>    bond-downdelay 0  
>    bond-updelay 0  
>    dns-nameservers 192.168.1.1 8.8.8.8
>```
5. _Сколько IP адресов в сети с маской /29 ? Сколько /29 подсетей можно получить из сети с маской /24. Приведите несколько примеров /29 подсетей внутри сети 10.10.10.0/24._
> В подсети с маской /29 - 8 IP адресов. В подсети с маской /24 - 256 IP адресов. Если разбить данную подсеть, то получим 256/8=32 подсети.  
> Например, первая подсеть:
> ```
> 10.10.10.0 - адрес подсети (или 10.10.10.0/29)
> 10.10.10.7 - броадкаст
> 10.10.10.1..6 - шесть адресов для хостов
> 255.255.255.248 - маска подсети
> ``` 
> Примеры других подсетей: 10.10.10.16/29; 10.10.10.120/29; 10.10.10.240/29

6. _Задача: вас попросили организовать стык между 2-мя организациями. Диапазоны 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16 уже заняты. Из какой подсети допустимо взять частные IP адреса? Маску выберите из расчета максимум 40-50 хостов внутри подсети._  
> Можно выбрать из диапазона 100.64.0.0 - 100.127.255.255 (маска подсети /10).   
> Если необходима подсеть на 40-50 хостов, то соответственно нам нужна подсеть с маской /26.
> Например можно взять подсеть 100.100.100.0/26
7. _Как проверить ARP таблицу в Linux, Windows? Как очистить ARP кеш полностью? Как из ARP таблицы удалить только один нужный IP?_
> В Windows: Для просмотра кеша - `arp -a`, для полной очистки кеша -  `netsh interface ip delete arpcache`, для удаления отдельного IP адреса `arp -d ADDR`, где ADRR - IP адрес.  
> В Linux: Для просмотра ARP кеша команда `ip neigh`, для полной очистки - `ip neigh flush all`  
> Для удаления конкретного IP адреса - `sudo ip neigh delete ADDR dev DEV`, где ADDR - IP адрес, DEV - сетевой интерфейс.
___
## Задание для самостоятельной отработки (необязательно к выполнению)

 8*. Установите эмулятор EVE-ng.
 
 Инструкция по установке - https://github.com/svmyasnikov/eve-ng

 Выполните задания на lldp, vlan, bonding в эмуляторе EVE-ng. 
 
 ___